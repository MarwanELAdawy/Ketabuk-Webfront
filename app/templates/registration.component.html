<div class="container">
    <div class="row">
        <div class="col-md-8 col-md-offset-2">
            <div class="panel panel-default">
                <div class="panel-heading">التسجيل</div>
                <div class="panel-body">
                    <form (ngSubmit)="register()" class="form-horizontal" role="form" #registrationForm="ngForm">

                        <div *ngIf="journalModified" class="form-group">
                            <label for="name" class="col-md-4 control-label">اسم مستعار</label>

                            <div class="col-md-6">
                                <input id="name" required type="text" class="form-control" name="name" [(ngModel)]="form.user.name" #name1="ngModel">
                            </div>
                            <img *ngIf="name1?.valid" height="24" width="24" src="/app/assets/validation/green.png">
                            <img *ngIf="!name1?.valid" height="24" width="24" src="/app/assets/validation/grey.png">
                        </div>

                        <div *ngIf="!journalModified" class="form-group">
                            <label for="name" class="col-md-4 control-label">اسم مستعار</label>

                            <div class="col-md-6">
                                <input id="name" required type="text" class="form-control" name="name" [(ngModel)]="form.user.name" (ngModelChange)="setJournalName($event)" #name2="ngModel">
                            </div>
                            <img *ngIf="name2?.valid" height="24" width="24" src="/app/assets/validation/green.png">
                            <img *ngIf="!name2?.valid" height="24" width="24" src="/app/assets/validation/grey.png">
                            
                        </div>

                        <div class="form-group">
                            <label for="name" class="col-md-4 control-label">اسم الكـتـاب</label>

                            <div class="col-md-6">
                                <input id="journal" required type="text" class="form-control" name="journal" [(ngModel)]="form.user.journal.name" (input)="setJournalModified($event)" #journalName="ngModel">
                            </div>
                            <img *ngIf="journalName?.valid" height="24" width="24" src="/app/assets/validation/green.png">
                            <img *ngIf="!journalName?.valid" height="24" width="24" src="/app/assets/validation/grey.png">
                        </div>

                        <div class="form-group">
                            <label for="email" class="col-md-4 control-label">الEmail</label>

                            <div class="col-md-6">
                                <input id="email" required type="email" class="form-control" name="email" [(ngModel)]="form.email" #email="ngModel" (ngModelChange)="validateEmail()">
                            </div>
                            <img *ngIf="emailValid" height="24" width="24" src="/app/assets/validation/green.png">
                            <img *ngIf="!emailValid" height="24" width="24" src="/app/assets/validation/grey.png">
                        </div>

                        <div class="form-group">
                            <label for="password"  class="col-md-4 control-label">كلمة السر</label>

                            <div class="col-md-6">
                                <input id="password" required minlength="6" (keyup)="validatePassword()" type="password" class="form-control" name="password" [(ngModel)]="form.password" #pass1="ngModel">
                                <div *ngIf="!valid && submitted" class="alert alert-danger">مطلوب مجموعتين علي الأقل: حروف، أرقام، رموز أو اجعل كلمة السر ١٣ حرف أو أكثر. 
                                    <a href='#'>لماذا نصعب الأمور؟</a>
                                </div>
                                <div *ngIf="pass1.dirty">
                                    <div class="col-md-12">
                                    <p>مطلوب مجموعتين علي الأقل:</p>
                                    <ul>
                                        <li><i *ngIf="passwordHasCharacters" class="fa fa-check" aria-hidden="true"></i>حروف</li>
                                        <li><i *ngIf="passwordHasNumbers" class="fa fa-check" aria-hidden="true"></i>أرقام</li>
                                        <li><i *ngIf="passwordHasSymbols" class="fa fa-check" aria-hidden="true"></i>رموز</li>
                                        <li><i *ngIf="passwordIsMoreThan12" class="fa fa-check" aria-hidden="true"></i>أكثر من ١٢ حرف</li>
                                    </ul>
                                    </div>
                                </div>

                        </div>
                        <img *ngIf="valid" height="24" width="24" src="/app/assets/validation/green.png">
                        <img *ngIf="!valid" height="24" width="24" src="/app/assets/validation/grey.png">
    
                        </div>

                        <div class="form-group">
                            <label for="password-confirm"  class="col-md-4 control-label">كلمة السر مرة أخري</label>

                            <div class="col-md-6">
                                <input id="password-confirm" (keyup)="comparePasswords()" required type="password" class="form-control" name="password_confirmation" [(ngModel)]="password" #pass2="ngModel">
                                <div *ngIf="!passwordsMatch && pass2.valid && submitted" class="alert alert-danger">يجب أن يكونا متطابقين.</div>
                            </div>
                            <img *ngIf="passwordsMatch&&valid" height="24" width="24" src="/app/assets/validation/green.png">
                            <img *ngIf="!passwordsMatch||!valid" height="24" width="24" src="/app/assets/validation/grey.png">
                        </div>

                        <div class="form-group">
                            <div class="col-md-6 col-md-offset-4">
                                <button type="submit" class="btn btn-primary">
                                    <i class="fa fa-btn fa-user"></i> سجل
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>